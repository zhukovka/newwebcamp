AddDefaultCharset UTF-8
RewriteEngine On

#Убираем слеш
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} ^(.+)/$
RewriteRule ^(.+)/$ /$1 [R=301,L]

#WWW
RewriteCond %{HTTP_HOST} !^(www.) [NC]
RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]


RewriteRule ^([a-zA-Z\-_0-9]+)[/]?$ index.php
RewriteRule ^([a-zA-Z\-_0-9]+)/([a-zA-Z\-_0-9]+)$ index.php
RewriteRule ^([a-zA-Z\-_0-9]+)/([a-zA-Z\-_0-9]+)/([a-zA-Z\-_0-9]+)$ index.php
RewriteRule ^([a-zA-Z\-_0-9]+)\.htm(l)?$ index.php
RewriteRule ^.*\.php$ index.php